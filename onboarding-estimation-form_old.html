<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>New Customer Onboarding - Implementation Estimation</title>
  <style>
    :root {
      --atlassian-blue: #0052cc;
      --atlassian-blue-light: #deebff;
      --atlassian-background: #f4f5f7;
      --atlassian-border: #dfe1e6;
      --atlassian-text: #172b4d;
      --atlassian-muted: #6b778c;
      --card-radius: 8px;
      --card-shadow: 0 1px 3px rgba(9, 30, 66, 0.15);
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      margin: 0;
      padding: 24px;
      background: var(--atlassian-background);
      color: var(--atlassian-text);
    }

    .app-container {
      max-width: 1100px;
      margin: 0 auto;
    }

    header {
      margin-bottom: 24px;
      padding: 16px 20px;
      border-radius: var(--card-radius);
      background: #fff;
      box-shadow: var(--card-shadow);
      border-left: 4px solid var(--atlassian-blue);
    }

    h1 {
      margin: 0 0 6px;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .subtitle {
      margin: 0;
      font-size: 0.9rem;
      color: var(--atlassian-muted);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      background: var(--atlassian-blue-light);
      color: var(--atlassian-blue);
      margin-top: 8px;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.7fr) minmax(260px, 1fr);
      gap: 16px;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }

    .sections {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .section-card {
      background: #fff;
      border-radius: var(--card-radius);
      box-shadow: var(--card-shadow);
      padding: 14px 16px;
      border: 1px solid var(--atlassian-border);
      transition: opacity 0.2s ease;
    }

    .section-disabled {
      opacity: 0.45;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 8px;
    }

    .section-header-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .section-title {
      font-size: 1rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .section-index {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      border-radius: 999px;
      background: var(--atlassian-blue-light);
      color: var(--atlassian-blue);
      font-size: 0.8rem;
      font-weight: 600;
    }

    .section-range {
      font-size: 0.8rem;
      color: var(--atlassian-muted);
    }

    .section-body-disabled {
      pointer-events: none;
    }

    .tasks-title {
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      color: var(--atlassian-muted);
      letter-spacing: 0.03em;
      margin-bottom: 4px;
    }

    .tasks-list {
      list-style: none;
      padding: 0;
      margin: 0 0 4px;
      font-size: 0.9rem;
      color: var(--atlassian-text);
    }

    .tasks-list li {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      margin-bottom: 2px;
    }

    .tasks-list input[type="checkbox"] {
      margin-top: 2px;
      cursor: pointer;
    }

    .time-row {
      margin-top: 6px;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 8px;
      font-size: 0.9rem;
    }

    .time-row label {
      color: var(--atlassian-muted);
    }

    input[type="number"] {
      width: 80px;
      padding: 4px 6px;
      border-radius: 4px;
      border: 1px solid var(--atlassian-border);
      font-size: 0.9rem;
    }

    input[type="number"]:focus {
      outline: 2px solid var(--atlassian-blue-light);
      border-color: var(--atlassian-blue);
    }

    aside {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .panel {
      background: #fff;
      border-radius: var(--card-radius);
      box-shadow: var(--card-shadow);
      padding: 14px 16px;
      border: 1px solid var(--atlassian-border);
    }

    .panel h2 {
      margin: 0 0 8px;
      font-size: 1rem;
      font-weight: 600;
    }

    .hint {
      font-size: 0.8rem;
      color: var(--atlassian-muted);
      margin: 0 0 4px;
    }

    .total-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--atlassian-blue);
    }

    .buttons {
      margin-top: 10px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    button {
      padding: 6px 12px;
      border-radius: 4px;
      border: 1px solid var(--atlassian-border);
      background: #f4f5f7;
      cursor: pointer;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--atlassian-text);
    }

    button.primary {
      background: var(--atlassian-blue);
      color: #fff;
      border-color: var(--atlassian-blue);
    }

    button:hover {
      background: #ebecf0;
    }

    button.primary:hover {
      background: #0747a6;
    }

    .rate-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-top: 8px;
      font-size: 0.85rem;
      color: var(--atlassian-muted);
    }

    .rate-row input {
      width: 90px;
    }

    .money-value {
      font-weight: 600;
      color: var(--atlassian-text);
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      color: var(--atlassian-muted);
      cursor: pointer;
      user-select: none;
    }

    .toggle input[type="checkbox"] {
      appearance: none;
      -webkit-appearance: none;
      width: 32px;
      height: 18px;
      border-radius: 16px;
      background: #dfe1e6;
      position: relative;
      outline: none;
      transition: background 0.2s ease;
      cursor: pointer;
    }

    .toggle input[type="checkbox"]::before {
      content: "";
      position: absolute;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #fff;
      top: 2px;
      left: 2px;
      transition: transform 0.2s ease;
      box-shadow: 0 1px 2px rgba(9, 30, 66, 0.3);
    }

    .toggle input[type="checkbox"]:checked {
      background: var(--atlassian-blue);
    }

    .toggle input[type="checkbox"]:checked::before {
      transform: translateX(14px);
    }

    @media print {
      body {
        padding: 0.5cm;
        background: #fff;
      }
      .buttons {
        display: none;
      }
      header {
        box-shadow: none;
        border-radius: 0;
      }
      .section-card, .panel {
        box-shadow: none;
      }
    }
  </style>
</head>
<body>
<div class="app-container">
  <header>
    <h1>New Customer Onboarding - Implementation Estimation</h1>
    <p class="subtitle">
      Per-customer implementation scope for Jira Service Management, Jira Software, Confluence and Assets.
    </p>
    <div class="badge">
      <span>⚙️</span>
      <span>Toggle sections · Editable hours · Auto total · Export to PDF</span>
    </div>
  </header>

  <div class="layout">
    <main>
      <form id="estimation-form">
        <div class="sections">

          <!-- 1. Intake & clarification -->
          <div class="section-card" id="sec-1">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">1</span>
                  <span>Intake and clarification</span>
                </div>
                <div class="section-range">Suggested: 1 - 2 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-1">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Review submitted Atlassian Form</li>
                  <li><input type="checkbox">Identify missing or unclear information</li>
                  <li><input type="checkbox">Clarify SLAs, access model and tools in scope with customer</li>
                  <li><input type="checkbox">Confirm which products are required: JSM, JSW, Confluence, Assets</li>
                  <li><input type="checkbox">Document final agreed scope in a short summary</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-1">Estimated time</label>
                <input id="hours-1" type="number" step="0.5" min="0" value="1.5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 2. High-level solution design -->
          <div class="section-card" id="sec-2">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">2</span>
                  <span>High-level solution design</span>
                </div>
                <div class="section-range">Suggested: 2 - 3 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-2">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Define Jira project types and templates (JSM / JSW)</li>
                  <li><input type="checkbox">Design access model (internal team, customer team, roles)</li>
                  <li><input type="checkbox">Define SLA logic (response and resolution targets)</li>
                  <li><input type="checkbox">Decide on knowledge base needs (separate Confluence space or shared)</li>
                  <li><input type="checkbox">Decide whether Assets/CMDB is in scope for this customer</li>
                  <li><input type="checkbox">Confirm integrations required (email, Slack/Teams, Opsgenie, n8n, webhooks)</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-2">Estimated time</label>
                <input id="hours-2" type="number" step="0.5" min="0" value="2.5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 3. JSM setup -->
          <div class="section-card" id="sec-3">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">3</span>
                  <span>Jira Service Management project setup</span>
                </div>
                <div class="section-range">Suggested: 4 - 6 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-3">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Create JSM project using the agreed template (ITSM or Service desk)</li>
                  <li><input type="checkbox">Configure issue types (Incident, Service Request, Change, Problem, Task etc.)</li>
                  <li><input type="checkbox">Create portal request types and group them into logical categories</li>
                  <li><input type="checkbox">Configure fields and request forms per request type</li>
                  <li><input type="checkbox">Set up queues for triage, priority, team ownership and SLA breaches</li>
                  <li><input type="checkbox">Configure SLAs (response and resolution) with appropriate calendars</li>
                  <li><input type="checkbox">Adjust workflows if needed (statuses, transitions, resolutions)</li>
                  <li><input type="checkbox">Configure automation rules for assignment, notifications and auto-close</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-3">Estimated time</label>
                <input id="hours-3" type="number" step="0.5" min="0" value="5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 4. JSW setup -->
          <div class="section-card" id="sec-4">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">4</span>
                  <span>Jira Software project setup (optional)</span>
                </div>
                <div class="section-range">Suggested: 2 - 4 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-4">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Create JSW project (Kanban or Scrum) for delivery team</li>
                  <li><input type="checkbox">Configure issue types (Epic, Story, Task, Bug etc.)</li>
                  <li><input type="checkbox">Align JSW workflows with JSM lifecycle if needed</li>
                  <li><input type="checkbox">Set up boards, swimlanes and quick filters</li>
                  <li><input type="checkbox">Configure links or automation between JSM tickets and JSW issues</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-4">Estimated time</label>
                <input id="hours-4" type="number" step="0.5" min="0" value="3" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 5. Access & permissions -->
          <div class="section-card" id="sec-5">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">5</span>
                  <span>Access and permissions / authentication</span>
                </div>
                <div class="section-range">Suggested: 1.5 - 3 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-5">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li>
                    <input type="checkbox">Create or update Atlassian groups for:
                    <ul class="tasks-list" style="margin-left: 20px;">
                      <li><input type="checkbox">JSM agents</li>
                      <li><input type="checkbox">JSW users</li>
                      <li><input type="checkbox">Confluence users</li>
                    </ul>
                  </li>
                  <li><input type="checkbox">Assign groups to product access (JSM, JSW, Confluence)</li>
                  <li><input type="checkbox">Add named users based on onboarding form (full name + email)</li>
                  <li><input type="checkbox">Map users to Jira project roles (Administrators, Service Desk Team, Viewers)</li>
                  <li><input type="checkbox">Assign correct authentication policy (SSO / MFA / guard policy)</li>
                  <li><input type="checkbox">Verify portal-only access for customers where applicable</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-5">Estimated time</label>
                <input id="hours-5" type="number" step="0.5" min="0" value="2.5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 6. Confluence -->
          <div class="section-card" id="sec-6">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">6</span>
                  <span>Confluence space setup (optional)</span>
                </div>
                <div class="section-range">Suggested: 2 - 3 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-6">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Create new Confluence space (name and key)</li>
                  <li><input type="checkbox">Configure permissions for internal and customer users</li>
                  <li><input type="checkbox">Link JSM project to Confluence space as a knowledge base</li>
                  <li><input type="checkbox">Create base pages (Onboarding guide, SOPs, FAQ, Runbooks)</li>
                  <li><input type="checkbox">Set up page templates for recurring documentation</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-6">Estimated time</label>
                <input id="hours-6" type="number" step="0.5" min="0" value="2.5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 7. Assets -->
          <div class="section-card" id="sec-7">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">7</span>
                  <span>Assets (CMDB) setup (optional)</span>
                </div>
                <div class="section-range">Suggested: 4 - 6 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-7">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Design object schema (Customer, Environments, Applications, Services)</li>
                  <li><input type="checkbox">Create object types and core attributes</li>
                  <li><input type="checkbox">Define relations (Customer → Environment → Application / Service)</li>
                  <li><input type="checkbox">Import initial data set (manual or CSV import)</li>
                  <li><input type="checkbox">Configure Assets custom fields in JSM request forms</li>
                  <li><input type="checkbox">Test object selection in portal and agent view</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-7">Estimated time</label>
                <input id="hours-7" type="number" step="0.5" min="0" value="5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 8. Integrations -->
          <div class="section-card" id="sec-8">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">8</span>
                  <span>Integrations and notifications</span>
                </div>
                <div class="section-range">Suggested: 1 - 5 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-8">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Configure email channels (incoming and outgoing)</li>
                  <li><input type="checkbox">Align SPF / DKIM / DMARC with customer if required</li>
                  <li><input type="checkbox">Set up Slack or Teams integration for notifications</li>
                  <li><input type="checkbox">Configure Opsgenie integration if incident management is in scope</li>
                  <li><input type="checkbox">Create webhooks or n8n flows for specific automations</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-8">Estimated time</label>
                <input id="hours-8" type="number" step="0.5" min="0" value="3" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 9. Testing & UAT -->
          <div class="section-card" id="sec-9">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">9</span>
                  <span>Testing and UAT</span>
                </div>
                <div class="section-range">Suggested: 2 - 4 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-9">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Run end-to-end test scenarios for main request types</li>
                  <li><input type="checkbox">Validate SLAs and queue visibility</li>
                  <li><input type="checkbox">Verify notifications and email flows</li>
                  <li><input type="checkbox">Check customer portal access and permissions</li>
                  <li><input type="checkbox">Log and fix configuration issues discovered during UAT</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-9">Estimated time</label>
                <input id="hours-9" type="number" step="0.5" min="0" value="3" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

          <!-- 10. Go-live & handover -->
          <div class="section-card" id="sec-10">
            <div class="section-header">
              <div class="section-header-main">
                <div class="section-title">
                  <span class="section-index">10</span>
                  <span>Go-live and handover</span>
                </div>
                <div class="section-range">Suggested: 2 - 3 h</div>
              </div>
              <label class="toggle">
                <input type="checkbox" class="section-toggle" checked data-section="sec-10">
                <span>Include</span>
              </label>
            </div>

            <div class="section-body">
              <div class="tasks">
                <div class="tasks-title">Tasks</div>
                <ul class="tasks-list">
                  <li><input type="checkbox">Switch configuration to live usage (enable rules, integrations)</li>
                  <li><input type="checkbox">Run walkthrough session with key users and admins</li>
                  <li><input type="checkbox">Provide short admin guide (where and how to change config)</li>
                  <li><input type="checkbox">Agree hypercare period and support channel</li>
                </ul>
              </div>

              <div class="time-row">
                <label for="hours-10">Estimated time</label>
                <input id="hours-10" type="number" step="0.5" min="0" value="2.5" data-role="hours">
                <span>h</span>
              </div>
            </div>
          </div>

        </div>
      </form>
    </main>

    <aside>
      <div class="panel">
        <h2>Total estimation</h2>
        <p class="hint">Only included sections are counted. Edit hours or toggle sections.</p>
        <div class="total-value" id="total-hours">0.0 h</div>

        <div class="rate-row">
          <span>Hourly rate</span>
          <input id="hour-rate" type="number" step="10" min="0" value="0">
        </div>
        <div class="rate-row">
          <span>Estimated cost</span>
          <span class="money-value" id="total-cost">0</span>
        </div>

        <div class="buttons">
          <button type="button" class="primary" onclick="recalculateTotal()">Recalculate</button>
          <button type="button" onclick="exportToPdf()">Export to PDF</button>
        </div>
      </div>

      <div class="panel">
        <h2>Usage notes</h2>
        <p class="hint">
          1. Toggle sections to include/exclude from scope.<br>
          2. Adjust hours per section to match customer complexity.<br>
          3. Optionally enter your hourly rate to see cost estimation.<br>
          4. Use browser print dialog and select "Save as PDF".
        </p>
      </div>
    </aside>
  </div>
</div>

<script>
  function recalculateTotal() {
    let total = 0;

    document.querySelectorAll('.section-card').forEach(card => {
      const toggle = card.querySelector('.section-toggle');
      if (toggle && !toggle.checked) {
        return;
      }

      const input = card.querySelector('input[data-role="hours"]');
      if (!input) return;

      const raw = (input.value || '').toString().replace(',', '.');
      const value = parseFloat(raw);
      if (!isNaN(value) && value >= 0) {
        total += value;
      }
    });

    const totalRounded = total.toFixed(1);
    document.getElementById('total-hours').textContent = totalRounded + ' h';

    const rateInput = document.getElementById('hour-rate');
    const rateRaw = (rateInput.value || '').toString().replace(',', '.');
    const rate = parseFloat(rateRaw);
    let cost = 0;
    if (!isNaN(rate) && rate > 0) {
      cost = total * rate;
    }
    document.getElementById('total-cost').textContent = cost > 0 ? cost.toFixed(2) : '0';
  }

  function exportToPdf() {
    window.print();
  }

  document.querySelectorAll('.section-toggle').forEach(toggle => {
    toggle.addEventListener('change', function () {
      const id = this.getAttribute('data-section');
      const section = document.getElementById(id);
      if (!section) return;

      const body = section.querySelector('.section-body');

      if (this.checked) {
        section.classList.remove('section-disabled');
        if (body) body.classList.remove('section-body-disabled');
      } else {
        section.classList.add('section-disabled');
        if (body) body.classList.add('section-body-disabled');
      }

      recalculateTotal();
    });
  });

  document.getElementById('estimation-form').addEventListener('input', function (event) {
    if (event.target.matches('input[data-role="hours"]')) {
      recalculateTotal();
    }
  });

  document.getElementById('hour-rate').addEventListener('input', recalculateTotal);

  recalculateTotal();
</script>
</body>
</html>
